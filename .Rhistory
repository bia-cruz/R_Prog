'Rprovado'))
ifelse(notas2 >= 70, 'Aprovado',
ifelse(notas2 >= 40, 'Exame',
'Reprovado'))
#versão com SWITCH VETORIAL
dplyr::case_when(notas2 >= 70 - 'Aprovado',
notas2 >= 40 - 'Exame',
TRUE - 'Reprovado')
#versão com SWITCH VETORIAL
dplyr::case_when(notas2 >= 70 ~ 'Aprovado',
notas2 >= 40 ~ 'Exame',
TRUE ~ 'Reprovado')
tx_juros <- 0.01
n_meses <- 12
rend <- numeric(n_meses)
rend[1] <- 100
for (i in 2:n_meses) {
rend[i] <- rend[i - 1] *(1 + tx_juros)
}
rend
y <- c(3, 2, 2, 1, NA, 0, 4, 1)
s <- 0
for (i in y) {
if (s > 10) break
if (is.na(i)) next
s <- s + i
print(s)
}
s
y <- c(0, 0, 1, 1, 1, 1, NA)
s <- 0
for (i in y) {
if (s > 10) break
if (is.na(i)) next
s <- s + i
print(s)
}
s
y <- c(0, 0, 10, 1, 1, 1, NA)
s <- 0
for (i in y) {
if (s > 10) break
if (is.na(i)) next
s <- s + i
print(s)
}
s
y <- c(3, 2, 2, 1, NA, 0, 4, 1)
s <- 0
for (i in y) {
if (s > 10) break
if (is.na(i)) next
s <- s + i
print(s)
}
s
for (i in 1:10) {
print(i^2)
}
n_numbers <- 12
total <- 0
i <- 1L
while (i <n_numbers) {
u <- total + runif(1)
if (sum(u) > 4) break
total <- u
i <- i + 1L
}
total
while (i <n_numbers) {
u <- total + runif(1)
if (sum(u) > 4) break
total <- u
i <- i + 1L
}
total
total <- 0
i <- 1L
i <- i+1L
total
i <- i + 1L
total
i <- 1L
repeat {
u <- total + runif(1)
if (sum(u) > 4) break
total <- u
i <- i + 1L
}
total
# exercício sobre lançamentos de dados
n_max <- 100
tentativas <- 1
while (tentativas < n_max) {
l1 <- sample(1:6, 3, replace = TRUE) #joga os dados
l1_ordenado <- sort(l1) #ordena o l1
print(l1_ordenado)
seque <- sum(ifelse(diff(l1_ordenado) == 1, TRUE, FALSE))
if(seque == 2) break
tentativas <- tentativas + 1
}
tentativas
while (tentativas < n_max) {
l1 <- sample(1:6, 3, replace = TRUE) #joga os dados
l1_ordenado <- sort(l1) #ordena o l1
print(l1_ordenado)
seque <- sum(ifelse(diff(l1_ordenado) == 1, TRUE, FALSE))
if(seque == 2) break
tentativas <- tentativas + 1
}
tentativas
while (tentativas < n_max) {
l1 <- sample(1:6, 3, replace = TRUE) #joga os dados
l1_ordenado <- sort(l1) #ordena o l1
print(l1_ordenado)
seque <- sum(ifelse(diff(l1_ordenado) == 1, TRUE, FALSE))
if(seque == 2) break
tentativas <- tentativas + 1
}
tentativas
while (tentativas < n_max) {
l1 <- sample(1:6, 3, replace = TRUE) #joga os dados
l1_ordenado <- sort(l1) #ordena o l1
print(l1_ordenado)
seque <- sum(ifelse(diff(l1_ordenado) == 1, TRUE, FALSE))
if(seque == 2) break
tentativas <- tentativas + 1
}
tentativas
output <- c()
output[i] <- tentativas
mean(output)
n_max <- 100
tentativas <- 1
output <- c()
for (i in 1:1000) {
n_max <- 100
tentativas <- 1
while (tentativas < n_max) {
l1 <- sample(1:6, 3, replace = TRUE) #joga os dados
l1_ordenado <- sort(l1) #ordena o l1
print(l1_ordenado)
seque <- sum(ifelse(diff(l1_ordenado) == 1, TRUE, FALSE))
if(seque == 2) break
tentativas <- tentativas + 1
}
output[i] <- tentativas
}
mean(output)
hist(output)
imc <- function(peso, altura) {
imc <- (peso/altura)^2
limits <- c(0, 18.5, 25, 30, Inf)
labels <- c('Magreza', 'Adequado',
'Pré-Obeso', 'Obesidade')
classif <- labelS[findInterval(imc, vec = limits)]
return(list(IMC = imc, Classificação = classif))
}
return
imc
imc(80, 1.90)
classif <- labels[findInterval(imc, vec = limits)]
imc <- function(peso, altura) {
imc <- (peso/altura)^2
limits <- c(0, 18.5, 25, 30, Inf)
labels <- c('Magreza', 'Adequado',
'Pré-Obeso', 'Obesidade')
classif <- labels[findInterval(imc, vec = limits)]
return(list(IMC = imc, Classificação = classif))
}
imc(80, 1.90)
imc <- peso/altura^2
imc <- function(peso, altura) {
imc <- peso/altura^2
limits <- c(0, 18.5, 25, 30, Inf)
labels <- c('Magreza', 'Adequado',
'Pré-Obeso', 'Obesidade')
classif <- labels[findInterval(imc, vec = limits)]
return(list(IMC = imc, Classificação = classif))
}
imc(80, 1.90)
imc(90, 1.65)
baskara <- function(a, b, c) {
delta <- b^2 - 4 * a * c
x <- (-b c(-1,1) * sqrt(delta))/(2 * a)
baskara <- function(a, b, c) {
delta <- b^2 - 4 * a * c
x <- (-b c(-1,1) * sqrt(delta))/(2 * a)
baskara <- function(a, b, c) {
delta <- b^2 - 4 * a * c
x <- (-b + c(-1,1) * sqrt(delta))/(2 * a)
return(x)
}
baskara(a = 1, b= 2, c= 1)
baskara(a = 1, b= 4, c= 1)
curve(x^2 + 4*x + 1)
curve(x^2 + 4*x + 1, from = -2, to = 2)
joga_dados <- function(n_dados, n_max, n_simulacao) {
output <- c()
for(i in 1:n_simulacao) {
tentativas <- 1
while(tentativas < n_max) {
l1 <- sample(1:6, n_dados, replace = TRUE) # joga os dados
l1_ordenado <- sort(l1) # ordenada
seque <- sum(ifelse(diff(l1_ordenado) == 1, TRUE, FALSE))
if(seque == c(n_dados-1)) break
tentativas <- tentativas + 1
}
output[i] <- tentativas
}
return(output)
}
jogadas <- joga_dados(n_dados = 3, n_max = 100, n_simulacao = 1000)
mean(jogadas)
jogadas <- joga_dados(n_dados = 4, n_max = 100, n_simulacao = 1000)
mean(jogadas)
jogadas <- joga_dados(n_dados = 5, n_max = 100, n_simulacao = 1000)
mean(jogadas)
## Funções sem argumentos
calcula_imc <- function() {
if(altura < 0) stop("Altura deve ser maior do que zero.")
if(peso < 0) stop("Peso deve ser maior do que zero.")
imc <- peso/(altura^2)
limits <- c(0, 18.5, 25, 30, Inf)
labels <- c("Magreza", "Adequado", "Pré-obeso", "Obesidade")
classif <- labels[findInterval(imc, limits)]
return(list(IMC = imc, Classificao = classif))
}
peso <- 70
altura <- 1.70
calcula_imc()
sleep <- sleep
View(sleep)
dados_novos <- survey
dados_novos <- woman
dados_novos <- women
View(dados_novos)
install.packages("carData")
dados_novos <- carData
dados_novos <- UN
install.packages("carData", repos = "https://cran.rstudio.com/")
library(carData)
dados_novos <- UN
view(dados_novos)
View(dados_novos)
str(dados_novos)
library(dplyr)
dados <- UN %>%
rename(
fertilidade = tfr,
pib_per_capita = PPgdp,
expectativa_vida_feminina = lifeExpF,
mortalidade_infantil = infantMortality
)
dados <- UN %>%
rename(
pib_per_capita = PPgdp,
expectativa_vida_feminina = lifeExpF,
mortalidade_infantil = infantMortality
)
dados <- UN %>%
rename(
pib_per_capita = ppgdp,
expectativa_vida_feminina = lifeExpF,
mortalidade_infantil = infantMortality
)
dados_novos <- car_crash
dados10 <- dados %>%
filter(Danger == "dangerous")
# carregando banco de dados 'USArrests' para estudo de manipulação
dados <- USArrests
view(dados)
View(dados)
# função MUTATE: serve para criar novas variáveis
# vamos utilizar para criar a variável "danger", se assault for maior que 200
dados <- dados %>%
mutate(Danger = ifelse(Assault %in%
c(200:1000),
"dangerous", "safe"))
view(dados)
View(dados)
dados10 <- dados %>%
filter(Danger == "dangerous")
View(dados10)
dados10 <- dados %>%
filter(Murder >= 100 & Assault >= 200)
View(dados10)
dados10 <- dados %>%
filter(Murder >= 100 & Assault >= 100)
View(dados10)
dados10 <- dados %>%
filter(Murder >= 100)
View(dados10)
dados10 <- dados %>%
filter(Murder >= 5)
View(dados10)
dados10 <- dados %>%
filter(Murder >= 10)
View(dados10)
dados10 <- dados %>%
filter(Murder >= 10 & Assault >= 200)
View(dados10)
dados11 <- dados %>%
filter(Murder >= 10 & Assault >= 200)
dados12 <- dados %>%
filter(Danger %in% c("safe", "dangerous"))
View(dados12)
dados12 <- dados %>%
filter(Danger %in% "safe")
View(dados12)
dados13 <- dados %>%
arrange(desc(Murder))
View(dados13)
## podemos ordenar mais de uma variavel por vez
dados14 <- dados %>%
arrange(desc(Murder), Assault)
View(dados14)
## podemos ordenar mais de uma variavel por vez
dados14 <- dados %>%
arrange(desc(Murder), desc(Assault))
View(dados14)
## podemos ordenar mais de uma variavel por vez
dados14 <- dados %>%
arrange(desc(Murder), desc(Assault))
select(Murder, Assault)
## podemos ordenar mais de uma variavel por vez
dados14 <- dados %>%
arrange(desc(Murder), UrbanPop) %>%
select(Murder, UrbanPop) %>%
na.exclude()
## podemos ordenar mais de uma variavel por vez
dados14 <- dados %>%
arrange(desc(Murder), UrbanPop)) %>%
## podemos ordenar mais de uma variavel por vez
dados14 <- dados %>%
arrange(Murder, UrbanPop) %>%
select(Murder, UrbanPop) %>%
na.exclude()
# slice: serve para fatiar linhas
dados14 <- dados %>%
select(1:3) %>%
slice(1:2)
# slice: serve para fatiar linhas
dados14 <- dados %>%
select(1:3)
install.packages("httr")
install.packages("jsonlite")
install.packages("dplyr")
# indentação utilizando pipe (%>%)
require(magrittr)
# slice: serve para fatiar linhas
dados14 <- dados %>%
select(1:3)
## ordenando em ordem decrescente
dados13 <- dados %>%
arrange(desc(Murder))
library(carData)
# carregando banco de dados 'USArrests' para estudo de manipulação
dados <- USArrests
View(dados)
library("httr")
require("httr")
library("jsonlite")
require("jsonlite")
require("dplyr")
# função MUTATE: serve para criar novas variáveis
# vamos utilizar para criar a variável "danger", se assault for maior que 200
dados <- dados %>%
mutate(Danger = ifelse(Assault %in%
c(200:1000),
"dangerous", "safe"))
# slice: serve para fatiar linhas
dados14 <- dados %>%
select(1:3)
glimpse(dados14)
# slice: serve para fatiar linhas
dados14 <- dados %>%
select(1:4)
# slice: serve para fatiar linhas
dados14 <- dados %>%
select(1:4) %>%
slice(1:3)
glimpse(dados14)
dados_novos <- storms
dados_storms <- storms
View(dados_storms)
exer1 <- dados_storms %>%
filter(status == "Tropical Depression") %>%
nrow()
nrow()
exer1
exer1 <- dados_storms %>%
filter(status == "tropical depression") %>%
nrow()
exer1
dados_storms %>%
filter(status == "tropical depression") %>%
nrow()
dados_storms %>%
filter(status == "tropical depression" & wind >= 40) %>%
nrow()
## letra c
exer1 <- dados_storms %>%
select(is.numeric()) %>%
arrange(pressure)
## letra c
exer1 <- dados_storms %>%
## letra c
exer1 <- dados_storms %>%
select(is.numeric) %>%
arrange(pressure)
## letra c
exer1 <- dados_storms %>%
select_if(is.numeric) %>%
arrange(pressure)
view(exer1)
View(exer1)
## letra c
dados_storms %>%
select_if(is.numeric) %>%
arrange(pressure)
storms1 <- storms %>%
rename(velocidade_wind = wind)
View(storms)
View(storms1)
rename_storm <- storms %>%
rename(velocidade_wind = wind)
# relocate: serve para realocar colunas (variavéis)
## vamos realocar a variavel wind para a oitava posição
relocate_storms <- storms %>%
relocate(wind, .after = 7)
View(relocate_storms)
transmute_storms <- storms %>%
transmute(wind_10 = wind / 10)
View(transmute_storms)
# replace_NA: serve para alterar valores na
replace_storms <- storms %>%
mutate(wind = replace_na(wind, 0))
# replace_NA: serve para alterar valores na
replace_storms <- storms %>%
mutate(wind = replace_na(category, 0))
mutate(category = replace(na, category, 0)
# replace_NA: serve para alterar valores na
replace_storms <- storms %>%
# replace_NA: serve para alterar valores na
replace_storms <- storms %>%
mutate(category = replace_(na, category, 0))
# replace_NA: serve para alterar valores na
replace_storms <- storms %>%
mutate(category = replace_na(category, 0))
# cut: serve para classificar dados
## vamos classificar a variável wind em 3 categorias: weak, medium and strong
cut_storms <- storms %>%
mutate(wind_cat = cut(wind,
breaks = c(-Inf, 50, 120, Inf),
labels = c("fraco", "médio", "forte")))
View(cut_storms)
# cut: serve para classificar dados
## vamos classificar a variável wind em 3 categorias: weak, medium and strong
cut_storms <- storms %>%
mutate(wind_cat = cut(wind,
breaks = c(-Inf, 50, 120, Inf),
labels = c("fraco", "médio", "forte"))) %>%
relocate(wind_cat, .after = wind)
View(cut_storms)
sum_storms <- cut_storms %>%
summarise(wind_maior120 = sum(wind_cat = forte, na.rm = TRUE))
sum_storms <- cut_storms %>%
summarise(wind_maior120 = sum(wind_cat = "forte", na.rm = TRUE))
sum_storms <- cut_storms %>%
summarise(wind_maior120 = sum(wind_cat >= 120, na.rm = TRUE))
## se já não estivesse já separado poderiamos usar o lubridate, com a função
## dmy(), transformando string em data e ai a função year para extrair o ano
group_storms <- storms %>%
group_by(year)
glimpse(group_storms)
View(group_storms)
# exercicio 2: utilizando o banco de dados starwars
## letra a:
star <- starwars
View(star)
total_esp <- star %>%
summarise(species_total = sum(species, na.rm = TRUE))
total_esp <- star %>%
summarise(n_especies = n_distinct(species))
star %>%
summarise(n_especies = n_distinct(species))
## letra b:
star %>%
group_by(species) %>%
summarise(freq_especies = n()) %>%
arrange(desc(freq_especies))
## letra b:
star %>%
filter(sex %in% c("female", "male")) %>%
group_by(sex) %>%
summarise(media_altura = mean(height, na.rm = TRUE))
## letra c:
star %>%
filter(mass %in% "male") %>%
group_by(mass) %>%
summarise(media_peso = mean(mass, na.rm = TRUE))
## letra c:
star %>%
filter(sex == "male") %>%
group_by(species) %>%
summarise(media_peso = mean(mass, na.rm = TRUE))
## letra d:
star %>%
group_by(species) %>%
filter(mass == max(mass, na.rm = TRUE)) %>%
select(species, name, mass)
