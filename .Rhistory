'Pré-Obeso', 'Obesidade')
classif <- labels[findInterval(imc, vec = limits)]
return(list(IMC = imc, Classificação = classif))
}
imc(80, 1.90)
imc(90, 1.65)
baskara <- function(a, b, c) {
delta <- b^2 - 4 * a * c
x <- (-b c(-1,1) * sqrt(delta))/(2 * a)
baskara <- function(a, b, c) {
delta <- b^2 - 4 * a * c
x <- (-b c(-1,1) * sqrt(delta))/(2 * a)
baskara <- function(a, b, c) {
delta <- b^2 - 4 * a * c
x <- (-b + c(-1,1) * sqrt(delta))/(2 * a)
return(x)
}
baskara(a = 1, b= 2, c= 1)
baskara(a = 1, b= 4, c= 1)
curve(x^2 + 4*x + 1)
curve(x^2 + 4*x + 1, from = -2, to = 2)
joga_dados <- function(n_dados, n_max, n_simulacao) {
output <- c()
for(i in 1:n_simulacao) {
tentativas <- 1
while(tentativas < n_max) {
l1 <- sample(1:6, n_dados, replace = TRUE) # joga os dados
l1_ordenado <- sort(l1) # ordenada
seque <- sum(ifelse(diff(l1_ordenado) == 1, TRUE, FALSE))
if(seque == c(n_dados-1)) break
tentativas <- tentativas + 1
}
output[i] <- tentativas
}
return(output)
}
jogadas <- joga_dados(n_dados = 3, n_max = 100, n_simulacao = 1000)
mean(jogadas)
jogadas <- joga_dados(n_dados = 4, n_max = 100, n_simulacao = 1000)
mean(jogadas)
jogadas <- joga_dados(n_dados = 5, n_max = 100, n_simulacao = 1000)
mean(jogadas)
## Funções sem argumentos
calcula_imc <- function() {
if(altura < 0) stop("Altura deve ser maior do que zero.")
if(peso < 0) stop("Peso deve ser maior do que zero.")
imc <- peso/(altura^2)
limits <- c(0, 18.5, 25, 30, Inf)
labels <- c("Magreza", "Adequado", "Pré-obeso", "Obesidade")
classif <- labels[findInterval(imc, limits)]
return(list(IMC = imc, Classificao = classif))
}
peso <- 70
altura <- 1.70
calcula_imc()
sleep <- sleep
View(sleep)
dados_novos <- survey
dados_novos <- woman
dados_novos <- women
View(dados_novos)
install.packages("carData")
dados_novos <- carData
dados_novos <- UN
install.packages("carData", repos = "https://cran.rstudio.com/")
library(carData)
dados_novos <- UN
view(dados_novos)
View(dados_novos)
str(dados_novos)
library(dplyr)
dados <- UN %>%
rename(
fertilidade = tfr,
pib_per_capita = PPgdp,
expectativa_vida_feminina = lifeExpF,
mortalidade_infantil = infantMortality
)
dados <- UN %>%
rename(
pib_per_capita = PPgdp,
expectativa_vida_feminina = lifeExpF,
mortalidade_infantil = infantMortality
)
dados <- UN %>%
rename(
pib_per_capita = ppgdp,
expectativa_vida_feminina = lifeExpF,
mortalidade_infantil = infantMortality
)
dados_novos <- car_crash
dados10 <- dados %>%
filter(Danger == "dangerous")
# carregando banco de dados 'USArrests' para estudo de manipulação
dados <- USArrests
view(dados)
View(dados)
# função MUTATE: serve para criar novas variáveis
# vamos utilizar para criar a variável "danger", se assault for maior que 200
dados <- dados %>%
mutate(Danger = ifelse(Assault %in%
c(200:1000),
"dangerous", "safe"))
view(dados)
View(dados)
dados10 <- dados %>%
filter(Danger == "dangerous")
View(dados10)
dados10 <- dados %>%
filter(Murder >= 100 & Assault >= 200)
View(dados10)
dados10 <- dados %>%
filter(Murder >= 100 & Assault >= 100)
View(dados10)
dados10 <- dados %>%
filter(Murder >= 100)
View(dados10)
dados10 <- dados %>%
filter(Murder >= 5)
View(dados10)
dados10 <- dados %>%
filter(Murder >= 10)
View(dados10)
dados10 <- dados %>%
filter(Murder >= 10 & Assault >= 200)
View(dados10)
dados11 <- dados %>%
filter(Murder >= 10 & Assault >= 200)
dados12 <- dados %>%
filter(Danger %in% c("safe", "dangerous"))
View(dados12)
dados12 <- dados %>%
filter(Danger %in% "safe")
View(dados12)
dados13 <- dados %>%
arrange(desc(Murder))
View(dados13)
## podemos ordenar mais de uma variavel por vez
dados14 <- dados %>%
arrange(desc(Murder), Assault)
View(dados14)
## podemos ordenar mais de uma variavel por vez
dados14 <- dados %>%
arrange(desc(Murder), desc(Assault))
View(dados14)
## podemos ordenar mais de uma variavel por vez
dados14 <- dados %>%
arrange(desc(Murder), desc(Assault))
select(Murder, Assault)
## podemos ordenar mais de uma variavel por vez
dados14 <- dados %>%
arrange(desc(Murder), UrbanPop) %>%
select(Murder, UrbanPop) %>%
na.exclude()
## podemos ordenar mais de uma variavel por vez
dados14 <- dados %>%
arrange(desc(Murder), UrbanPop)) %>%
## podemos ordenar mais de uma variavel por vez
dados14 <- dados %>%
arrange(Murder, UrbanPop) %>%
select(Murder, UrbanPop) %>%
na.exclude()
# slice: serve para fatiar linhas
dados14 <- dados %>%
select(1:3) %>%
slice(1:2)
# slice: serve para fatiar linhas
dados14 <- dados %>%
select(1:3)
install.packages("httr")
install.packages("jsonlite")
install.packages("dplyr")
# indentação utilizando pipe (%>%)
require(magrittr)
# slice: serve para fatiar linhas
dados14 <- dados %>%
select(1:3)
## ordenando em ordem decrescente
dados13 <- dados %>%
arrange(desc(Murder))
library(carData)
# carregando banco de dados 'USArrests' para estudo de manipulação
dados <- USArrests
View(dados)
library("httr")
require("httr")
library("jsonlite")
require("jsonlite")
require("dplyr")
# função MUTATE: serve para criar novas variáveis
# vamos utilizar para criar a variável "danger", se assault for maior que 200
dados <- dados %>%
mutate(Danger = ifelse(Assault %in%
c(200:1000),
"dangerous", "safe"))
# slice: serve para fatiar linhas
dados14 <- dados %>%
select(1:3)
glimpse(dados14)
# slice: serve para fatiar linhas
dados14 <- dados %>%
select(1:4)
# slice: serve para fatiar linhas
dados14 <- dados %>%
select(1:4) %>%
slice(1:3)
glimpse(dados14)
dados_novos <- storms
dados_storms <- storms
View(dados_storms)
exer1 <- dados_storms %>%
filter(status == "Tropical Depression") %>%
nrow()
nrow()
exer1
exer1 <- dados_storms %>%
filter(status == "tropical depression") %>%
nrow()
exer1
dados_storms %>%
filter(status == "tropical depression") %>%
nrow()
dados_storms %>%
filter(status == "tropical depression" & wind >= 40) %>%
nrow()
## letra c
exer1 <- dados_storms %>%
select(is.numeric()) %>%
arrange(pressure)
## letra c
exer1 <- dados_storms %>%
## letra c
exer1 <- dados_storms %>%
select(is.numeric) %>%
arrange(pressure)
## letra c
exer1 <- dados_storms %>%
select_if(is.numeric) %>%
arrange(pressure)
view(exer1)
View(exer1)
## letra c
dados_storms %>%
select_if(is.numeric) %>%
arrange(pressure)
storms1 <- storms %>%
rename(velocidade_wind = wind)
View(storms)
View(storms1)
rename_storm <- storms %>%
rename(velocidade_wind = wind)
# relocate: serve para realocar colunas (variavéis)
## vamos realocar a variavel wind para a oitava posição
relocate_storms <- storms %>%
relocate(wind, .after = 7)
View(relocate_storms)
transmute_storms <- storms %>%
transmute(wind_10 = wind / 10)
View(transmute_storms)
# replace_NA: serve para alterar valores na
replace_storms <- storms %>%
mutate(wind = replace_na(wind, 0))
# replace_NA: serve para alterar valores na
replace_storms <- storms %>%
mutate(wind = replace_na(category, 0))
mutate(category = replace(na, category, 0)
# replace_NA: serve para alterar valores na
replace_storms <- storms %>%
# replace_NA: serve para alterar valores na
replace_storms <- storms %>%
mutate(category = replace_(na, category, 0))
# replace_NA: serve para alterar valores na
replace_storms <- storms %>%
mutate(category = replace_na(category, 0))
# cut: serve para classificar dados
## vamos classificar a variável wind em 3 categorias: weak, medium and strong
cut_storms <- storms %>%
mutate(wind_cat = cut(wind,
breaks = c(-Inf, 50, 120, Inf),
labels = c("fraco", "médio", "forte")))
View(cut_storms)
# cut: serve para classificar dados
## vamos classificar a variável wind em 3 categorias: weak, medium and strong
cut_storms <- storms %>%
mutate(wind_cat = cut(wind,
breaks = c(-Inf, 50, 120, Inf),
labels = c("fraco", "médio", "forte"))) %>%
relocate(wind_cat, .after = wind)
View(cut_storms)
sum_storms <- cut_storms %>%
summarise(wind_maior120 = sum(wind_cat = forte, na.rm = TRUE))
sum_storms <- cut_storms %>%
summarise(wind_maior120 = sum(wind_cat = "forte", na.rm = TRUE))
sum_storms <- cut_storms %>%
summarise(wind_maior120 = sum(wind_cat >= 120, na.rm = TRUE))
## se já não estivesse já separado poderiamos usar o lubridate, com a função
## dmy(), transformando string em data e ai a função year para extrair o ano
group_storms <- storms %>%
group_by(year)
glimpse(group_storms)
View(group_storms)
# exercicio 2: utilizando o banco de dados starwars
## letra a:
star <- starwars
View(star)
total_esp <- star %>%
summarise(species_total = sum(species, na.rm = TRUE))
total_esp <- star %>%
summarise(n_especies = n_distinct(species))
star %>%
summarise(n_especies = n_distinct(species))
## letra b:
star %>%
group_by(species) %>%
summarise(freq_especies = n()) %>%
arrange(desc(freq_especies))
## letra b:
star %>%
filter(sex %in% c("female", "male")) %>%
group_by(sex) %>%
summarise(media_altura = mean(height, na.rm = TRUE))
## letra c:
star %>%
filter(mass %in% "male") %>%
group_by(mass) %>%
summarise(media_peso = mean(mass, na.rm = TRUE))
## letra c:
star %>%
filter(sex == "male") %>%
group_by(species) %>%
summarise(media_peso = mean(mass, na.rm = TRUE))
## letra d:
star %>%
group_by(species) %>%
filter(mass == max(mass, na.rm = TRUE)) %>%
select(species, name, mass)
## letra d:
star %>%
group_by(species) %>%
filter(mass == max(mass, na.rm = TRUE)) %>%
select(species, name, mass)
require("httr")
install.packages("httr")
install.packages("httr")
require("httr")
install.packages("jsonlite")
require("jsonlite")
install.packages("dplyr")
require("dplyr")
## letra d:
star %>%
group_by(species) %>%
filter(mass == max(mass, na.rm = TRUE)) %>%
select(species, name, mass)
# exercicio 2: utilizando o banco de dados starwars
## letra a:
star <- starwars
dados_storms <- storms
# carregando banco de dados 'USArrests' para estudo de manipulação
dados <- USArrests
# tidy data: variavel forma coluna e observação linha
## existe dois tipos: wide e long7
table1
# tidy data: variavel forma coluna e observação linha
## existe dois tipos: wide e long7
table1 <- table1
# tidy data: variavel forma coluna e observação linha
## existe dois tipos: wide e long7
library(tidyverse)
table1 <- table1
# transformar dados long -> wide usando pivot_wider()
table1 %>%
select(-population) %>%
pivot_wider(names_from = year,
values_from = cases)
# pivotando mais de uma variável
table1 %>%
pivot_wider(names_from = year,
values_from = c(cases, population))
table1
View(table1)
table1 %>%
pivot_longer(cols = c(cases, population),
names_to = "variable",
values_to = "total")
# separate: serve para separar observações de uma coluna em duas
table3
table3 %>%
separate(rate, into = c('cases', 'population'))
# unite: serve para juntar observações de diferentes colunas em uma só
# vamos fazer o processo inverso do separate
table1 %>%
unite(rate, cases, population, sep = "/")
# exercicio 3:
flights
# exercicio 3:
require(nycflights13)
# exercicio 3:
install.packages(nycflights13)
# exercicio 3:
install.packages("nycflights13")
require(nycflights13)
flights %>%
count(origin, dest) %>%
pivot_wider(names_from = origin,
values_from = n,
values_fill = 0)
install.packages("stringr")
install.packages("stringr")
library(stringr)
texto <- "Vai, Corinthians!"
str_length(texto)
str_to_lower(texto)
str_to_upper(texto)
str_sub(texto, 1,4)
str_sub(texto, 1,3)
str_replace(texto, "Vai", "Aqui")
str_replace(texto, "Vai,", "Aqui é")
str_detect(texto, "Corinthians")
# exemplos do regex
str_detect("bisnaguinha", "b.s")
str_detect("bisnaguinha", "^b")
str_detect("bbisnaguinha", "b*i")
str_detect("bisnaguinha", "[nag]")
# concatenando tabelas
df1 <- tibble(
mat = c(256, 487, 965,
125, 458, 874, 963),
nome = c('joão', 'vanessa', 'tiago',
'luana', 'gisele', 'pedro',
'andré'),
curso = c('mat', 'mat', 'est', 'est',
'est', 'mat','est'),
prova1 = c(80, 75, 95, 70, 45, 55, 30),
prova2 = c(90, 75, 80, 85, 50, 75, NA),
prova3 = c(80, 75, 75, 50, NA, 90, 30),
faltas = c(4, 4, 0, 8, 16, 0, 20))
view(df1)
# concatenando tabelas
df1 <- tibble(
r.a = c(256, 487, 965,
125, 458, 874, 963),
nome = c('joão', 'vanessa', 'tiago',
'luana', 'gisele', 'pedro',
'andré'),
curso = c('mat', 'mat', 'est', 'est',
'est', 'mat','est'),
prova1 = c(80, 75, 95, 70, 45, 55, 30),
prova2 = c(90, 75, 80, 85, 50, 75, NA),
prova3 = c(80, 75, 75, 50, NA, 90, 30),
faltas = c(4, 4, 0, 8, 16, 0, 20))
df_extra <- tibble(
r.a = c(256, 965, 285, 125, 874, 321, 669, 967),
nome = c('joao', 'tiago', 'tiago', 'luana',
'pedro', 'mia', 'luana', 'andré'),
idade = c(18, 18, 22, 21, 19, 18, 19, 20),
bolsista = c('S', 'N', 'N', 'S', 'N', 'N', 'S', 'N'))
view(df_extra)
# concatenação de linhas e colunas
# linhas:
bind_rows(df1[1:3, c(1, 3, 5)],
df1[5:7, c(1, 3, 5, 4)],
df1[4, c(1,  , 5, 4)])
# concatenação de linhas e colunas
# linhas:
bind_rows(df1[1:3, c(1, 3, 5)],
df1[5:7, c(1, 3, 5, 4)],
df1[4, c(1, 0, 5, 4)])
# colunas:
bind_cols(df1[, c(1:3)],
df1[, c(6:7)])
# full_join = união
full_join(df1, df_extra,
by = c('r.a' = 'r.a', 'nome'))
# inner_join = intersecção
inner_join(df1,
df_extra,
by = c('r.a' = 'r.a',
'nome'))
# todos que estão na 1a tabela
left_join(df1, df_extra,
by = c('r.a' = 'r.a',
'nome'))
# todos os que estão na 2a tabela
right_join(df1, df_extra,
by = c('r.a' = 'r.a',
'nome'))
# os da 2a que não estão na 1a
anti_join(df1, df_extra,
by = c('r.a' = 'r.a',
'nome'))
# podemos extrair hora, minuto, segundos...
data <- ymd_hms("2023-08-21 15:30:45")
ano <- year(data)
mes <- month(data)
dia <- day(data)
hora <- hour(data)
minuto <- minute(data)
segundos <- second(data)
data
ano
mes
diamonds
dia
hora
minuto
segundos
# podemos converter o fuso horário
data_ny <- ymd_hms("2025-10-21 12:00:00", tz = "America/New_York")
data_london <- with_tz(data_ny, tz = "Europe/London")
data_ny
data_london
